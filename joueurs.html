<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joueurs</title>
    <link rel="stylesheet" href="style.css">
    <script>
        let flemmardPercent = 50;
        let quetesBleues = ["Exemple quête bleue 1", "Exemple quête bleue 2", "Exemple quête bleue 3", "Exemple quête bleue 4", "Exemple quête bleue 5"];
        let quetesRouges = ["Exemple quête rouge 1", "Exemple quête rouge 2", "Exemple quête rouge 3", "Exemple quête rouge 4", "Exemple quête rouge 5"];
        let currentQuetes = ["", "", ""];
        let isFlemmard = false;
        
        function updateCounter() {
            document.getElementById("flemmardValue").textContent = flemmardPercent + "%";
        }
        
        function increase() {
            if (flemmardPercent < 100) {
                flemmardPercent += 10;
                updateCounter();
            }
        }
        
        function decrease() {
            if (flemmardPercent > 0) {
                flemmardPercent -= 10;
                updateCounter();
            }
        }
        
        function startGame() {
            document.getElementById("setup").style.display = "none";
            document.getElementById("roleDisplay").style.display = "block";
            
            let randomChance = Math.floor(Math.random() * 10) + 1;
            isFlemmard = randomChance <= flemmardPercent / 10;
            
            let roleText = isFlemmard ? "Flemmard" : "Bosseur";
            let roleColor = isFlemmard ? "red" : "blue";
            
            document.getElementById("role").textContent = roleText;
            document.getElementById("role").style.color = roleColor;
            
            generateQuests();
        }
        
        function generateQuests() {
            for (let i = 0; i < 3; i++) {
                let chance = Math.random();
                let isBlue = !isFlemmard && chance < 0.8;
                let queteList = isBlue ? quetesBleues : quetesRouges;
                currentQuetes[i] = queteList[Math.floor(Math.random() * queteList.length)];
                
                let cell = document.getElementById(`quete${i}`);
                cell.textContent = currentQuetes[i];
                cell.style.backgroundColor = isBlue ? "blue" : "red";
            }
        }
        
        function changeQuete(index) {
            let isBlue = !isFlemmard && Math.random() < 0.8;
            let queteList = isBlue ? quetesBleues : quetesRouges;
            currentQuetes[index] = queteList[Math.floor(Math.random() * queteList.length)];
            
            let cell = document.getElementById(`quete${index}`);
            cell.textContent = currentQuetes[index];
            cell.style.backgroundColor = isBlue ? "blue" : "red";
        }
    </script>
</head>
<body>
    <div class="container" id="setup">
        <h1>% de Flemmards</h1>
        <button class="btn" onclick="decrease()">-</button>
        <span id="flemmardValue">50%</span>
        <button class="btn" onclick="increase()">+</button>
        <p><strong>Dans l'entreprise Quoicoub & skibidi, Il y a 2 types de gens: Les bosseurs et les flemmards. Vous aurrez chacun des tâches à compléter, pour les bosseurs ça sera des tâches qui feront avancer l'entreprise, mais pour les flemmards c'est complètement l'inverse!
        Votre but sera de ne pas vous faire repérer en tant que flemmard. Toutes les 10 minutes, il y aurra une réunion à la TV, vous devrez tous venir et nous choisirons 1 personne à virer de l'entreprise. La partie se termine quand il n'y a plus aucun bosseurs ou flemmards.</strong></p>
        <button class="btn" onclick="startGame()">Start</button>
    </div>
    
    <div class="container" id="roleDisplay" style="display: none;">
        <h1>Ton rôle :</h1>
        <h2 id="role"></h2>
        
        <h3>Quêtes :</h3>
        <table>
            <tr>
                <td id="quete0"></td>
                <td><button onclick="changeQuete(0)">❌</button></td>
            </tr>
            <tr>
                <td id="quete1"></td>
                <td><button onclick="changeQuete(1)">❌</button></td>
            </tr>
            <tr>
                <td id="quete2"></td>
                <td><button onclick="changeQuete(2)">❌</button></td>
            </tr>
        </table>
    </div>
</body>
</html>
